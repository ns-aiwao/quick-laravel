＠＠＠登社長（と大剛さん）に感謝して頑張ろう＠＠＠
4.5 サブビュー

＠サブビュー
部分的なビューを表すという意味で、サブビューはコンポーネントによく似た機能。
ただし、単なるテンプレートの断片化であって（コンポーネントクラスに相当するしく
みはない）。
できることは限定される。
サブビューは簡単なビューの再利用と割り切り、より高度な利用にはコンポーネントを
利用することが推奨される。

＠サブビューの基本
先に定義したmy-alert.blade.phpをサブビューとして引用するには、@includeディレク
ティブを利用する。
-----------------
/* /resources/views/view/comp.blade.php */
@include('components.my-alert', [
  'type'=>'success',
  'alertTitle'=>'はじめてのコンポーネント',
  'slot'=>'コンポーネントは普通のビューと同じように.blade.phpファイルで定義できます！',
])
==================================

＠コレクションビュー
コレクションビューは、いわゆるコレクション（配列）に対して適用できる、特別なサ
ブビュー。
配列の各要素にサブビューを適用しながら順に出力するようなコードも、コレクション
ビューを利用することで、簡単に実装できる。
----------------------------------
[1]コレクションビューを準備する
まずは配列の要素ごとに適用する部分ビューを準備する。
保存先を/views/subviewsとする。
-----------------
/* /resources/views/subviews/book.blade.php */
<tr>
  <td>{{ $record->title }}</td>
  <td>{{ $record->price }}円</td>
  <td>{{ $record->publisher }}</td>
  <td>{{ $record->published }}</td>
</tr>
-----------------
コレクションビューで利用するテンプレートには、一項目ごとの（@foreachの配下で表
していたような）ビューを定義する。
仮引数（ここでは$record）は何でも構わない。
（後で呼び出し側で指定する。）
----------------------------------
[2]空ビューを準備する
配列が空だった場合のテンプレートも用意しておく。

-----------------
/* /resources/views/subviews/empty.blade.php */
<p>書籍情報はありません。</p>
----------------------------------
[3]コレクションビューを呼び出す
定義したコレクションビューを呼び出しているのが、以下のメインテンプレート。
-----------------
/* /resources/views/hello/list.blade.php */
@extends('layouts.base')
@section('title', '共通レイアウトの基本')
@section('main')
<table class="table">
<tr>
  <th>書名</th>
  <th>価格</th>
  <th>出版社</th>
  <th>刊行日</th>
</tr>
@each('subviews.book', $records, 'record', 'subviews.empty')
</table>
@endsection
-----------------
コレクションビューを呼び出すのは、@eachディレクティブ。
-----------------
@eachディレクティブ
@each(path, data, var, emp_path)
path：コレクションビューのパスワード
data：繰り返しに利用する配列
var：仮変数（コレクションビューでの参照用）
emp_path：配列dataが空の場合に表示するビュー（省略可）
-----------------
@eachは、@foreach+@include(+@if)の組み合わせでも代用できるが、冗長。
==================================

Part5：ルーティング

＠ルーティングの基本的なしくみ
ルーティングの基本的なしくみは、リクエストURLとコントローラー（アクション）
の紐づけ。
==================================




